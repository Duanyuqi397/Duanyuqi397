## 优先级

`状态更新`由`用户交互`产生，用户心里对`交互`执行顺序有个预期。`React`根据`人机交互研究的结果`中用户对`交互`的预期顺序为`交互`产生的`状态更新`赋予不同优先级。

具体如下：

- 生命周期方法：同步执行。
- 受控的用户输入：比如输入框内输入文字，同步执行。
- 交互事件：比如动画，高优先级执行。
- 其他：比如数据请求，低优先级执行

**如何调度优先级？**

react通过Scheduler调度任务，每当任务需要调度时，react会调用Scheduler提供的方法runWithPriority，该方法接收一个`优先级`常量与一个`回调函数`作为参数。`回调函数`会以`优先级`高低为顺序排列在一个`定时器`中并在合适的时间触发

例子：

![image-20220509214243989](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20220509214243989.png)